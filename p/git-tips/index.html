<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='If you have a bad memory like me...'><title>Git Tips</title>
<link rel=canonical href=https://liautraver.github.io/p/git-tips/><link rel=stylesheet href=/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css><meta property='og:title' content='Git Tips'><meta property='og:description' content='If you have a bad memory like me...'><meta property='og:url' content='https://liautraver.github.io/p/git-tips/'><meta property='og:site_name' content="LiAuTraver's Corner"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Utility'><meta property='article:published_time' content='2024-02-04T00:00:36+08:00'><meta property='article:modified_time' content='2024-02-04T00:00:36+08:00'><meta name=twitter:title content="Git Tips"><meta name=twitter:description content="If you have a bad memory like me..."><link rel="shortcut icon" href=/icon_folder.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hua8bef35876e901eb1521f1a515fabd94_27387_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>LiAuTraver's Corner</a></h1><h2 class=site-description>Creativity for all.</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>About</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://liautraver.github.io/ selected>English</option><option value=https://liautraver.github.io/zh/>Chinese</option><option value=https://liautraver.github.io/de/>Deitsch</option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#basics>Basics</a><ol><li><a href=#more>more</a></li><li><a href=#back-to-the-flow>back to the flow</a></li></ol></li><li><a href=#stash-is-a-good-friend>Stash is a good friend</a></li><li><a href=#branch>Branch</a></li><li><a href=#merge--pull-request>Merge & Pull Request</a><ol><li><a href=#local-git-merge>Local Git Merge</a></li><li><a href=#github-work-flow>GitHub Work Flow</a></li><li><a href=#when-merged-but-lots-of-differences-still-exist>When merged but lots of differences still exist</a><ol><li><a href=#rename-a-branch-locally>Rename a branch locally</a></li><li><a href=#rename-a-branch-both-locally-and-remotely>Rename a branch both locally and remotely</a></li><li><a href=#change-the-default-branch-name-not-recommended>Change the default branch name (<em>not recommended</em>)</a></li></ol></li></ol></li><li><a href=#remote-ssh--repositories>Remote SSH & Repositories</a><ol><li><a href=#create-a-github-remote-repositories>Create a GitHub remote repositories</a></li><li><a href=#create-an-ssh>Create an SSH</a><ol><li><a href=#windows>Windows</a></li><li><a href=#linux>Linux</a></li></ol></li><li><a href=#when-something-goes-wrong>When something goes wrong</a></li><li><a href=#basic-configurations>Basic Configurations</a></li></ol></li><li><a href=#logs>logs</a></li><li><a href=#recovery>Recovery</a><ol><li><a href=#revert-a-merge>Revert a merge</a></li><li><a href=#restore-from-local-commit>Restore from local commit</a></li><li><a href=#recover-from-remote-repository>Recover from remote repository</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/skills/>Skills</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/git-tips/>Git Tips</a></h2><h3 class=article-subtitle>If you have a bad memory like me...</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Feb 04, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>11 minute read</time></div></footer></div></header><section class=article-content><h1 id=git-work-flow-with-github>Git work flow with GitHub</h1><h2 id=basics>Basics</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>config</span> <span class=p>-</span><span class=n>-global</span> <span class=n>init</span><span class=p>.</span><span class=py>defaultBranch</span> <span class=n>main</span> <span class=p>(</span><span class=n>or</span> <span class=n>master</span><span class=p>)</span> <span class=c># set default branch</span>
</span></span></code></pre></td></tr></table></div></div><p>initialize repo for the first time.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>init</span>
</span></span></code></pre></td></tr></table></div></div><p>now we just use <code>git init</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>add</span> <span class=p>[</span><span class=no>file 1] [file 2] ... [file n</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>add</span> <span class=p>.</span> <span class=p>//</span> <span class=n>all</span> <span class=n>files</span>
</span></span></code></pre></td></tr></table></div></div><p>add files, i.e., stage files.</p><h3 id=more>more</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>restore</span> <span class=p>-</span><span class=n>-staged</span> <span class=p>[</span><span class=no>file 1] [file 2] ... [file n</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>restore</span> <span class=p>-</span><span class=n>-staged</span> <span class=p>.</span> <span class=p>//</span> <span class=n>all</span> <span class=n>files</span>
</span></span></code></pre></td></tr></table></div></div><p>restore staged files,.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=nb>rm </span><span class=p>[</span><span class=no>file 1] [file 2] ... [file n</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=nb>rm </span><span class=p>.</span> <span class=p>//</span> <span class=n>all</span> <span class=n>files</span><span class=p>.</span> <span class=p>(</span><span class=n>you</span> <span class=n>won</span><span class=err>&#39;</span><span class=n>t</span> <span class=k>do</span> <span class=n>this</span><span class=p>,</span> <span class=n>right</span><span class=p>?)</span>
</span></span></code></pre></td></tr></table></div></div><p>delete some (tracked) files. <strong>which means removing files, you cannot find them in recycle bin!</strong>
<em>But we can retrieve them from the commit history.</em></p><p>rename a file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=nb>mv </span><span class=p>[</span><span class=no>old name] [new name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=back-to-the-flow>back to the flow</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>commit</span> <span class=n>-m</span> <span class=s2>&#34;some commit info...&#34;</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>commit</span> <span class=n>-am</span> <span class=s2>&#34;some commit info...&#34;</span> 
</span></span></code></pre></td></tr></table></div></div><p>commit staged files.</p><p><code>-a</code> represents all staged files,namely, without using <code>git add</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>status</span>
</span></span></code></pre></td></tr></table></div></div><p>check the status.</p><h2 id=stash-is-a-good-friend>Stash is a good friend</h2><p>stash is a command that allows you to temporarily store changes that you don&rsquo;t want to commit immediately. Stashing is handy if you need to quickly switch context and work on something else, but you&rsquo;re mid-way through a code change and aren&rsquo;t quite ready to commit.</p><p>In a word, stash save <em>away</em> changes. If you have multiple approaches to solve a problem, you can use stash to save the current approach and try another one, use stash to store each of them, and choose the best stash to apply.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>stash</span> <span class=n>save</span> <span class=s2>&#34;some info...&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>simply stash some changes.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>stash</span> <span class=n>list</span>
</span></span></code></pre></td></tr></table></div></div><p>list all stashes.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>stash</span> <span class=n>pop</span>
</span></span></code></pre></td></tr></table></div></div><p>apply the latest stash and remove it from the stash list.
if you want to apply a specific stash, use:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>stash</span> <span class=n>apply</span> <span class=n>stash</span><span class=vm>@</span><span class=p>{</span><span class=n>n</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>where <code>n</code> is the number of the stash you want to apply.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>stash</span> <span class=n>apply</span>
</span></span></code></pre></td></tr></table></div></div><p>apply the latest stash and keep it in the stash list.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>stash</span> <span class=n>drop</span> <span class=n>stash</span><span class=vm>@</span><span class=p>{</span><span class=n>n</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>remove a specific stash from the stash list.</p><h2 id=branch>Branch</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span>
</span></span></code></pre></td></tr></table></div></div><p>view all branches and show current branch, which has <code>green</code> color and an <code>*</code> attributes.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=p>[</span><span class=no>new branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>add a new branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=k>switch</span> <span class=p>[</span><span class=no>branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>switch to a branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=k>switch</span> <span class=n>-c</span> <span class=p>[</span><span class=no>new branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>create a branch, and then switch to that branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>merge</span> <span class=n>-m</span> <span class=p>[</span><span class=no>merge message] [branch</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>merge a branch to the current branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-d</span> <span class=p>[</span><span class=no>branch name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-D</span> <span class=p>[</span><span class=no>branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><code>-d</code> : delete a branch.</p><p><code>-D</code> : force to delete a not fully merged branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-m</span> <span class=p>[</span><span class=no>branch old name</span><span class=p>](</span><span class=n>optional</span><span class=p>)</span> <span class=p>[</span><span class=no>branch name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-M</span> <span class=p>[</span><span class=no>branch old name</span><span class=p>](</span><span class=n>optional</span><span class=p>)</span> <span class=p>[</span><span class=no>branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>-m</code> option : rename a branch.</p><p>The <code>-M</code> option : forcefully rename a branch.</p><p>If the branch already exists, it will be replaced by the new one. This is different from the <code>-m</code> option, which will not replace an existing branch with the new one.</p><p>If the renamed branch has already been pushed to a remote repository, we need to push the renamed branch and reset the upstream branch:</p><p>for example, if the remote branch renamed from <code>master</code> to <code>main</code>, in local machine you should use:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-pwsh data-lang=pwsh><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-m</span> <span class=n>master</span> <span class=n>main</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>fetch</span> <span class=n>origin</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-u</span> <span class=n>origin</span><span class=p>/</span><span class=n>main</span> <span class=n>main</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>remote</span> <span class=nb>set-head</span> <span class=n>origin</span> <span class=n>-a</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=merge--pull-request>Merge & Pull Request</h2><h3 id=local-git-merge>Local Git Merge</h3><p>When the forked branch meets the requirements, we can merge it to the main branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>checkout</span> <span class=n>main</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>merge</span> <span class=p>[</span><span class=no>forked branch</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>if git shows: <code>not something we can merge</code>, here we may encounter some conflicts, it&rsquo;s time to use <code>git status</code> to check the conflicts, and then edit the files to solve the conflicts. in VS Code, we can use <code>merge editor</code> to solve the conflicts in a more convenient way, i.e., VsSCode UI.</p><h3 id=github-work-flow>GitHub Work Flow</h3><p>when everything up to date, we could create a pull request and add comments. GitHub will automatically check the conflicts. After solving the conflicts, we can merge the forked branch to the main branch.</p><h3 id=when-merged-but-lots-of-differences-still-exist>When merged but lots of differences still exist</h3><p>If there are lots of differences between the two branches, but git merge says &lsquo;Already up to date&rsquo;, it&rsquo;s possible that the branches have diverged in a way that Git does not recognize as a simple forward or backward set of changes.This can happen if you&rsquo;ve rebased one of the branches, or if you&rsquo;ve force-pushed to a branch that&rsquo;s been rebased by someone else.We can use:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=nb>diff </span><span class=p>[</span><span class=no>branch 1]..[branch 2</span><span class=p>]</span> <span class=p>&gt;</span> <span class=p>[</span><span class=no>filename</span><span class=p>].</span><span class=py>patch</span>
</span></span></code></pre></td></tr></table></div></div><p>This will create a file that contains <em><strong>all</strong></em> the changes from <code>branch 2</code> that are not in <code>branch 1</code>.</p><p>switch to <code>branch 1</code> and use:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>apply</span> <span class=p>[</span><span class=no>filename</span><span class=p>].</span><span class=py>patch</span>
</span></span></code></pre></td></tr></table></div></div><p>if having conflicts, solve it.
then commit and push. all done.</p><p>here&rsquo;s another way:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>checkout</span> <span class=p>[</span><span class=no>branch 1</span><span class=p>]</span> <span class=p>//</span> <span class=k>switch</span> <span class=n>to</span> <span class=n>branch</span> <span class=mf>1</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>rebase</span> <span class=p>[</span><span class=no>branch 2</span><span class=p>]</span> <span class=p>//</span> <span class=n>replay</span> <span class=n>commits</span> <span class=n>from</span> <span class=n>branch</span> <span class=mf>1</span> <span class=n>on</span> <span class=n>top</span> <span class=n>of</span> <span class=n>branch</span> <span class=mf>2</span><span class=p>,</span> <span class=n>which</span> <span class=n>means</span> <span class=n>branch</span> <span class=mf>1</span> <span class=n>will</span> <span class=n>be</span> <span class=n>updated</span> <span class=n>to</span> <span class=n>the</span> <span class=n>latest</span> <span class=n>commit</span> <span class=n>of</span> <span class=n>branch</span> <span class=mf>2</span><span class=p>.</span> <span class=k>do</span> <span class=n>not</span> <span class=n>misunderstand</span> <span class=n>it</span><span class=p>.</span>
</span></span></code></pre></td></tr></table></div></div><p>This will replay the commits from <code>branch 1</code> on top of <code>branch 2</code>. If there are any conflicts, Git will pause and allow you to resolve them before continuing.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>rebase</span> <span class=p>-</span><span class=n>-continue</span> <span class=p>//</span> <span class=n>or</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>rebase</span> <span class=p>-</span><span class=n>-skip</span> <span class=p>//</span> <span class=n>or</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>rebase</span> <span class=p>-</span><span class=n>-abort</span>
</span></span></code></pre></td></tr></table></div></div><p>git will require you to do command above.
<em>Note</em>: if <code>abort</code>, all uncommitted changes will be lost. so commit your work first!</p><h4 id=rename-a-branch-locally>Rename a branch locally</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-m</span> <span class=p>[</span><span class=no>old name] [new name</span><span class=p>]</span> <span class=c># typically means `move` a branch</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=rename-a-branch-both-locally-and-remotely>Rename a branch both locally and remotely</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>origin</span> <span class=err>:</span><span class=p>[</span><span class=no>old branch name] [new branch name</span><span class=p>]</span> <span class=c># delete old branch and create a new branch</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>origin</span> <span class=n>-u</span> <span class=p>[</span><span class=no>new branch name</span><span class=p>]</span> <span class=c># set upstream</span>
</span></span></code></pre></td></tr></table></div></div><p><em>Note: <code>-u</code> is a shorthand for <code>--set--upstream</code>.</em></p><h4 id=change-the-default-branch-name-not-recommended>Change the default branch name (<em>not recommended</em>)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=n>-M</span> <span class=p>[</span><span class=no>old branch name] [new branch name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>origin</span> <span class=n>-u</span> <span class=p>[</span><span class=no>new branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=remote-ssh--repositories>Remote SSH & Repositories</h2><h3 id=create-a-github-remote-repositories>Create a GitHub remote repositories</h3><p><code>.githubignore</code></p><p>:P</p><h3 id=create-an-ssh>Create an SSH</h3><h4 id=windows>Windows</h4><p>in Windows, you should install <code>Open-SSH</code> in <code>optional feature</code> panel via <code>settings</code> first.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Get-Service</span> <span class=nb>ssh-agent</span>
</span></span><span class=line><span class=cl><span class=nb>Start-Service</span> <span class=nb>ssh-agent</span> 
</span></span></code></pre></td></tr></table></div></div><p>and then</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>ssh-keygen</span> <span class=n>-t</span> <span class=n>ed25519</span> <span class=n>-C</span> <span class=s2>&#34;emailaddress&#34;</span> <span class=p>//</span> <span class=n>using</span> <span class=nb>github-provided</span> <span class=n>noreply</span> <span class=n>email</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=nb>ssh-add</span> <span class=p>~/.</span><span class=n>ssh</span><span class=p>/</span><span class=n>id_ed25519</span> <span class=c># If system cannot find the path to the file, using absolute path. e.g. `C:\Users\[user.account.name]\.ssh\id_ed25519.pub`.</span>
</span></span><span class=line><span class=cl><span class=nb>Get-ChildItem</span> <span class=n>-Path</span> <span class=p>~\.</span><span class=py>ssh</span> <span class=n>-Force</span> <span class=c># check if the file exists.</span>
</span></span><span class=line><span class=cl><span class=nb>Get-Content</span> <span class=p>~\.</span><span class=n>ssh</span><span class=p>\</span><span class=n>id_ed25519</span><span class=p>.</span><span class=py>pub</span> <span class=p>|</span> <span class=nb>Set-Clipboard</span> <span class=c># copy the SSH public key to clipboard.</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=linux>Linux</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install ssh
</span></span><span class=line><span class=cl>sudo apt-get install xclip <span class=c1># install xclip to copy text to clipboard.</span>
</span></span><span class=line><span class=cl>ssh-keygen -t ed25519 -C <span class=s2>&#34;emailaddress&#34;</span>
</span></span><span class=line><span class=cl>ssh-add ~/.ssh/id_ed25519
</span></span><span class=line><span class=cl>xclip -sel clip &lt; ~/.ssh/id_ed25519.pub
</span></span></code></pre></td></tr></table></div></div><hr><p><em>Notes:</em></p><p>The number <code>25519</code> in <code>id_ed25519</code> refers to the Ed25519 signature scheme, which is a specific algorithm for creating cryptographic signatures. This number is not arbitrary; it&rsquo;s part of the name of the algorithm.</p><p>Ed25519 was designed to be a high-security, high-performance signature scheme. It uses elliptic curve cryptography, specifically the curve known as <code>edwards25519</code> or <code>Curve25519</code>. The <code>25519</code> part of the name refers to the large prime number used in the mathematics of the curve, $2^{255}-19$.</p><p>Ed25519 has several advantages over other signature schemes such as RSA or ECDSA. It&rsquo;s faster, more secure against various attacks, and generates shorter keys (the private key is 256 bits, and the public key is 128 bits).</p><hr><p>Navigating to GitHub <code>settings - SSH and GPG keys</code>, paste the <code>SSH public key</code>.</p><h3 id=when-something-goes-wrong>When something goes wrong</h3><p>There were time when my SSH key was not working, and I got the following error message:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>Pushing</span> <span class=n>to</span> <span class=n>github</span><span class=p>.</span><span class=n>com</span><span class=err>:</span><span class=p>[</span><span class=no>user.name</span><span class=p>]/[</span><span class=no>repository.name</span><span class=p>].</span><span class=py>git</span> <span class=n>ssh</span><span class=err>:</span> <span class=n>connect</span> <span class=n>to</span> <span class=n>host</span> <span class=n>github</span><span class=p>.</span><span class=py>com</span> <span class=n>port</span> <span class=mf>22</span><span class=err>:</span> <span class=n>Connection</span> <span class=n>timed</span> <span class=n>out</span> <span class=n>fatal</span><span class=err>:</span> <span class=n>Could</span> <span class=n>not</span> <span class=n>read</span> <span class=n>from</span> <span class=n>remote</span> <span class=n>repository</span><span class=p>.</span>
</span></span></code></pre></td></tr></table></div></div><p>So far I do not exactly know why this happened, and I switched to <code>https</code> but it did not work either.
After struggling for a whole night and checking out GitHub help, although the reason why the error happened is still unknown, I ultimately grasp the key to make it. Here I&rsquo;m presenting the solution:</p><p>First, check if the SSH key is working:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>ssh</span> <span class=n>-T</span> <span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=py>com</span>
</span></span></code></pre></td></tr></table></div></div><p>and it shows:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>Hi</span> <span class=p>[</span><span class=no>user.name</span><span class=p>]!</span> <span class=n>You</span> <span class=n>have</span> <span class=n>successfully</span> <span class=n>authenticated</span><span class=p>,</span> <span class=n>but</span> <span class=n>GitHub</span> <span class=n>does</span> <span class=n>not</span> <span class=n>provide</span> <span class=n>shell</span> <span class=n>access</span><span class=p>.</span>
</span></span></code></pre></td></tr></table></div></div><p>which means the SSH key is working.</p><p>If it shows <code>Permission denied (publickey).</code>, then the SSH key is not working. That&rsquo;s another story, you may need to reinstall the SSH key or reconfigure the SSH key.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>vim</span> <span class=p>~/.</span><span class=n>ssh</span><span class=p>/</span><span class=n>config</span> 
</span></span></code></pre></td></tr></table></div></div><p>and add the following lines:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>Host</span> <span class=n>github</span><span class=p>.</span><span class=py>com</span>
</span></span><span class=line><span class=cl>    <span class=n>Hostname</span> <span class=n>ssh</span><span class=p>.</span><span class=py>github</span><span class=p>.</span><span class=py>com</span>
</span></span><span class=line><span class=cl>    <span class=n>Port</span> <span class=mf>22</span>
</span></span><span class=line><span class=cl>    <span class=n>User</span> <span class=n>git</span>
</span></span></code></pre></td></tr></table></div></div><p>reset <code>known_hosts</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>cp </span><span class=p>~/.</span><span class=n>ssh</span><span class=p>/</span><span class=n>known_hosts</span> <span class=p>~/.</span><span class=n>ssh</span><span class=p>/</span><span class=n>known_hosts</span><span class=p>.</span><span class=py>bak</span> <span class=c># create a backup just in case</span>
</span></span><span class=line><span class=cl><span class=n>vim</span> <span class=p>~/.</span><span class=n>ssh</span><span class=p>/</span><span class=n>known_hosts</span> <span class=c># delete the line of github.com; you can delete the whole file if you like.</span>
</span></span></code></pre></td></tr></table></div></div><p>Then try <code>push</code> again, and you will be pushing to the remote repository with pleasure. Now you can breathe a sigh of relief and enjoy a cup of coffee.</p><h3 id=basic-configurations>Basic Configurations</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>config</span> <span class=p>-</span><span class=n>-global</span> <span class=n>user</span><span class=p>.</span><span class=py>name</span> <span class=p>[</span><span class=no>user.name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>config</span> <span class=p>-</span><span class=n>-global</span> <span class=n>user</span><span class=p>.</span><span class=py>name</span> <span class=p>//</span> <span class=n>show</span> <span class=n>global</span> <span class=n>username</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>config</span> <span class=p>-</span><span class=n>-global</span> <span class=n>user</span><span class=p>.</span><span class=py>email</span> <span class=p>[</span><span class=no>user.email</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>config</span> <span class=p>-</span><span class=n>-global</span> <span class=n>user</span><span class=p>.</span><span class=py>email</span> <span class=p>//</span> <span class=n>show</span> <span class=n>the</span> <span class=n>global</span> <span class=n>email</span>
</span></span></code></pre></td></tr></table></div></div><p>origin is the default name Git gives to the server from where you cloned your repository. It&rsquo;s essentially an alias for the URL of the remote repository. When you clone a repository, Git automatically creates a remote connection called origin pointing back to the original repository. This is used to fetch updates, push changes, and more.</p><p>first time of the repo, we should:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>remote</span> <span class=n>add</span> <span class=n>origin</span> <span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=n>com</span><span class=err>:</span><span class=n>username</span><span class=p>/</span><span class=n>repositoryname</span><span class=p>.</span><span class=py>git</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>remote</span> <span class=nb>set-url</span> <span class=n>origin</span> <span class=n>git</span><span class=nv>@github</span><span class=p>.</span><span class=n>com</span><span class=err>:</span><span class=n>username</span><span class=p>/</span><span class=n>repositoryname</span><span class=p>.</span><span class=py>git</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>remote</span> <span class=n>-v</span> <span class=c># check if the remote is set correctly</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=p>-</span><span class=n>-set-upstream</span> <span class=n>origin</span> <span class=n>main</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>user.name</code> is the name in GitHub, i.e. @username.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=p>-</span><span class=n>-set-upstream</span> <span class=n>origin</span> <span class=p>[</span><span class=no>branch</span><span class=p>]</span> <span class=c># set upstream (remote) branch and push</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>branch</span> <span class=p>-</span><span class=n>-set-upstream-to</span><span class=p>=</span><span class=n>origin</span><span class=p>/[</span><span class=no>branch] [branch</span><span class=p>]</span> <span class=c># when the branch exists both locally and remotely</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>user.email</code> <em>must</em> be public email of GitHub account, or may use GitHub-provided noreply account if email private.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>-u</span> <span class=n>origin</span> <span class=p>[</span><span class=no>branch</span><span class=p>]</span> <span class=p>-</span><span class=n>-verbose</span>
</span></span></code></pre></td></tr></table></div></div><p><em>you should always use this command instead of <code>git push --verbose</code> when pushing a new branch to the remote.</em></p><p>and then</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>fetch</span> <span class=p>-</span><span class=n>-verbose</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>merge</span> <span class=p>-</span><span class=n>-verbose</span>
</span></span></code></pre></td></tr></table></div></div><p>or just:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>pull</span> <span class=p>-</span><span class=n>-verbose</span>
</span></span></code></pre></td></tr></table></div></div><p><code>git pull</code> is essentially a <code>git fetch</code> followed by a <code>git merge</code>.</p><p>Next time we just <code>git push --verbose</code>, not <code>git push -u origin [branch] --verbose</code> anymore.</p><hr><p><em>Breakdown of the command:</em></p><p><code>origin</code>: This is the default name Git gives to the server from where you cloned your repository. It&rsquo;s essentially an alias for the URL of the remote repository. When you clone a repository, Git automatically creates a remote connection called <code>origin</code> pointing back to the original repository. This is used to fetch updates, push changes, and more.</p><p><code>main</code>: This is the branch that you&rsquo;re pushing to the <code>origin</code> remote. In many repositories, <code>main</code> is the default branch, but it could be named anything. When you run <code>git push -u origin main</code>, you&rsquo;re saying &ldquo;push the commits in the local branch named <code>main</code> to the remote named <code>origin</code>&rdquo;.</p><p><code>-u</code> stands for &ldquo;upstream&rdquo;. This sets the upstream reference for the current branch. This means that in the future, you can simply type <code>git push</code> or <code>git pull</code> without specifying a branch, and Git will know that you mean <code>origin/main</code>.</p><p><code>--verbose</code> provides more detailed information about what&rsquo;s happening during the push operation.</p><hr><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=p>[</span><span class=no>url</span><span class=p>]</span> <span class=p>-</span><span class=n>-verbose</span> <span class=c># clone a repo, the main branch will be the default branch to clone.</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=p>-</span><span class=n>-recursive</span> <span class=p>[</span><span class=no>url</span><span class=p>]</span> <span class=p>-</span><span class=n>-verbose</span> <span class=c># clone a repo with all its submodules(aka. sub-repos)</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=p>-</span><span class=n>-recurse-submodules</span> <span class=p>[</span><span class=no>url</span><span class=p>]</span> <span class=p>-</span><span class=n>-verbose</span> <span class=c># same as above.</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>clone</span> <span class=n>-b</span> <span class=p>[</span><span class=no>branch] [url</span><span class=p>]</span> <span class=p>-</span><span class=n>-verbose</span> <span class=c># clone a specific branch.</span>
</span></span></code></pre></td></tr></table></div></div><p>clone a repo. the <code>repo</code> will be a new folder. So you do not to create a new folder to store the repo.</p><p>usually may not <code>url</code>, may <code>ssh</code>.</p><h2 id=logs>logs</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Powershell data-lang=Powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>log</span> <span class=p>//</span> <span class=n>log</span> <span class=n>overview</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>log</span> <span class=p>-</span><span class=n>-oneline</span> <span class=p>//</span> <span class=n>simplified</span> <span class=n>log</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>log</span> <span class=n>-p</span> <span class=p>//</span> <span class=n>details</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=nb>diff </span><span class=p>[</span><span class=no>branch 1]...[branch 2</span><span class=p>]</span> <span class=p>//</span> <span class=n>show</span> <span class=n>differences</span>
</span></span></code></pre></td></tr></table></div></div><p>view logs. type <code>q</code> to exit view.</p><h2 id=recovery>Recovery</h2><h3 id=revert-a-merge>Revert a merge</h3><p>restore to previous commit/stage is a good way to solve conflicts, however, it is more dangerous because it may cause data loss if used improperly.</p><p>to revert a merge, first we should check out the desired revert commit ID/commit hash using <code>git log</code>, and then type:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>revert</span> <span class=n>-m</span> <span class=mf>1</span> <span class=p>[</span><span class=nb>commit-hash</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>revert</span> <span class=p>[</span><span class=nb>commit-hash</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><code>-m 1</code> means revert to the first parent of the merge commit.</p><h3 id=restore-from-local-commit>Restore from local commit</h3><p>when lost changes due to improper use, first check the commit info:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>reflog</span> <span class=c># short for `reference log`, which is a reference to the commits that are referenced by the tips of branches and tags.</span>
</span></span></code></pre></td></tr></table></div></div><p>get all the commit hash, and then use:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>checkout</span> <span class=p>[</span><span class=nb>commit-hash</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>to view the commit.
if it is the desired commit, save it using:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>checkout</span> <span class=n>-b</span> <span class=p>[</span><span class=no>new branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>this will create a new branch and save the commit.</p><h3 id=recover-from-remote-repository>Recover from remote repository</h3><p>first we should use <code>git fetch origin</code> to fetch the latest changes and then:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>reset</span> <span class=p>-</span><span class=n>-hard</span> <span class=n>origin</span><span class=p>/[</span><span class=no>branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>we could try to compare the local and remote repository before recovery:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=nb>diff </span><span class=n>origin</span><span class=p>/[</span><span class=no>branch name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>Remember, <code>git reset --hard</code> is a destructive operation. It permanently discards local changes and commits. Make sure you really want to discard your local changes before running this command. If you want to keep your local changes, consider using git stash or git branch to save them somewhere else before running <code>git reset --hard</code>.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/utility/>Utility</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/ubuntu-tips/><div class=article-details><h2 class=article-title>Ubuntu Tips</h2></div></a></article><article><a href=/p/c-learning-notes/><div class=article-details><h2 class=article-title>C++ Learning Notes</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=LiAuTraver/liautraver.github.io issue-term=pathname label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2024 LiAuTraver's Corner</section><section class=powerby>LiAuTraver<br><span><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>
Theme <a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.21.0>Stack</a> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></span></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>